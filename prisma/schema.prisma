generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String   @id @default(cuid())
  name      String
  email     String   @unique
  password  String
  avatar    String?
  createdAt DateTime @default(now())

  moods         Mood[]
  sentNotes     Note[]         @relation("author")
  receivedNotes Note[]         @relation("recipient")
  photos        Photo[]
  playlistItems PlaylistItem[]
}

model Couple {
  id          String   @id @default(cuid())
  startDate   DateTime @default("2025-06-27T00:00:00.000Z")
  inviteToken String?  @unique
  user1Id     String
  user2Id     String?
  createdAt   DateTime @default(now())
}

model Photo {
  id          String   @id @default(cuid())
  url         String
  thumbnail   String?
  description String?
  eventDate   DateTime
  createdAt   DateTime @default(now())

  authorId String
  author   User   @relation(fields: [authorId], references: [id])
}

model Mood {
  id        String   @id @default(cuid())
  emoji     String
  label     String
  createdAt DateTime @default(now())

  userId String
  user   User   @relation(fields: [userId], references: [id])
}

model Note {
  id          String   @id @default(cuid())
  content     String
  isRead      Boolean  @default(false)
  createdAt   DateTime @default(now())

  authorId    String
  author      User     @relation("author", fields: [authorId], references: [id])
  recipientId String
  recipient   User     @relation("recipient", fields: [recipientId], references: [id])
}

model PlaylistItem {
  id        String   @id @default(cuid())
  title     String
  artist    String?
  url       String
  comment   String?
  createdAt DateTime @default(now())

  addedById String
  addedBy   User   @relation(fields: [addedById], references: [id])
}
